<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç”Ÿæ´»åƒåœ¾åˆ†ç±»åŠ©æ‰‹</title>

  <style>
    body {
      margin: 0;
      background: #f5f7fb;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
        Helvetica, Arial, sans-serif;
      color: #333;
    }

    /* é¡¶éƒ¨å¯¼èˆª */
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 32px;
      background: white;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    }

    .top-title {
      font-size: 20px;
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* è¯­è¨€åˆ‡æ¢ */
    .lang-switch {
      display: flex;
      gap: 12px;
      font-size: 15px;
    }
    .lang-switch span {
      cursor: pointer;
      padding: 6px 12px;
      border-radius: 8px;
      transition: 0.2s;
    }
    .lang-active {
      background: #e7efff;
      font-weight: bold;
      color: #2a62ff;
    }

    /* é¡¶éƒ¨ Tab */
    .tabs {
      margin: 20px auto;
      width: 80%;
      display: flex;
      justify-content: center;
      gap: 40px;
    }
    .tab {
      padding: 12px 40px;
      border-radius: 30px;
      background: white;
      cursor: pointer;
      font-size: 17px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      transition: 0.2s;
    }
    .tab-active {
      background: #dfe9ff;
      color: #2a62ff;
      font-weight: bold;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    /* ä¸»ä½“å¡ç‰‡æ ·å¼ */
    .card {
      width: 80%;
      margin: 20px auto;
      background: white;
      border-radius: 18px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      padding: 32px;
    }
    .hidden {
      display: none;
    }

    /* æœç´¢è¾“å…¥æ¡†åŒºåŸŸ */
    .search-box {
      width: 100%;
      display: flex;
      align-items: center;
      background: #f0f4ff;
      padding: 14px 20px;
      border-radius: 40px;
      font-size: 16px;
      box-sizing: border-box;
    }
    .search-input {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      font-size: 17px;
    }
    .search-btn {
      background: #85b6ff;
      padding: 10px 22px;
      border-radius: 20px;
      color: white;
      cursor: pointer;
      margin-left: 12px;
      transition: 0.25s;
    }
    .search-btn:hover {
      background: #5b96ff;
    }

    /* æœç´¢ç»“æœåŒº */
    .result-box {
      margin-top: 20px;
      padding: 20px;
      background: #f8f9ff;
      border-radius: 12px;
      font-size: 17px;
      min-height: 60px;
    }

    /* æ¸¸æˆ â€” å·¦ä¾§è¯´æ˜å¡ç‰‡ */
    .game-layout {
      display: flex;
      gap: 30px;
    }
    .game-info {
      width: 260px;
      background: #eef3ff;
      padding: 20px;
      border-radius: 16px;
    }
    .info-item {
      margin: 8px 0;
    }
    .game-btn {
      width: 100%;
      padding: 10px 14px;
      margin-top: 12px;
      border-radius: 10px;
      background: white;
      border: 1px solid #bcccff;
      cursor: pointer;
      transition: 0.2s;
    }
    .game-btn:hover {
      background: #dfe9ff;
    }

    /* æ¸¸æˆ â€” å³ä¾§å†…å®¹ */
    .game-main {
      flex: 1;
      background: #f6f8ff;
      padding: 20px;
      border-radius: 16px;
    }

    .trash-name {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .bin-grid {
      margin-top: 20px;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    .bin-btn {
      padding: 14px;
      border-radius: 12px;
      background: white;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
      cursor: pointer;
      transition: 0.2s;
      border: 1px solid transparent;
    }
    .bin-btn:hover {
      border: 1px solid #5b96ff;
      background: #e7efff;
    }

    .feedback {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <!-- é¡¶éƒ¨æ  -->
  <div class="topbar">
    <div class="top-title">ğŸ“¦ ç”Ÿæ´»åƒåœ¾åˆ†ç±»åŠ©æ‰‹</div>

    <div class="lang-switch">
      <span id="lang-zh" class="lang-active">ä¸­æ–‡</span>
      <span id="lang-kr">í•œêµ­ì–´</span>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <div id="tab-search" class="tab tab-active">æŸ¥è¯¢åˆ†ç±»</div>
    <div id="tab-game" class="tab">åˆ†ç±»ç»ƒä¹ </div>
    <div id="tab-about" class="tab">å…³äºç½‘é¡µ</div>
  </div>

  <!-- æŸ¥è¯¢é¡µé¢ -->
  <div id="page-search" class="card">
    <div class="search-box">
      <input id="searchInput" class="search-input" placeholder="è¯·è¾“å…¥åƒåœ¾åç§°ï¼Œä¾‹å¦‚ï¼šé¦™è•‰çš®ã€çº¸ç›’ã€ç”µæ± â€¦" />
      <div id="searchBtn" class="search-btn">æœç´¢</div>
    </div>

    <div id="resultArea" class="result-box">
      è¯·åœ¨ä¸Šæ–¹è¾“å…¥åƒåœ¾åç§°ä»¥æŸ¥çœ‹åˆ†ç±»ç»“æœã€‚
    </div>

    <div style="margin-top:15px; font-size:15px;">
      ä»Šæ—¥æŸ¥è¯¢ï¼š<span id="searchCount">0</span> æ¬¡
    </div>
  </div>
  <!-- åˆ†ç±»ç»ƒä¹  -->
  <div id="page-game" class="card hidden">
    <div class="game-layout">
      <!-- å·¦ä¾§è¯´æ˜åŒº -->
      <div class="game-info">
        <h3>æ“ä½œè¯´æ˜</h3>
        <div class="info-item">Â· ç³»ç»Ÿéšæœºå‡ºç°ä¸€ä¸ªåƒåœ¾åç§°</div>
        <div class="info-item">Â· é€‰æ‹©ä½ è®¤ä¸ºæ­£ç¡®çš„åˆ†ç±»</div>
        <div class="info-item">Â· å›ç­”æ­£ç¡® +1 åˆ†ï¼Œé”™è¯¯ -1 åˆ†</div>

        <div class="info-item" style="margin-top:12px;">åˆ†æ•°ï¼š<span id="score">0</span></div>
        <div class="info-item">é¢˜ç›®ï¼š<span id="round">0</span> / 20</div>
        <div class="info-item">ç”Ÿå‘½ï¼š<span id="life">5</span></div>

        <button id="btnStart" class="game-btn">å¼€å§‹ç»ƒä¹ </button>
        <button id="btnSkip" class="game-btn">è·³è¿‡</button>
        <button id="btnShow" class="game-btn">æ˜¾ç¤ºç­”æ¡ˆ</button>
      </div>

      <!-- æ¸¸æˆä¸»åŒºåŸŸ -->
      <div class="game-main">
        <div id="trashName" class="trash-name">è¯·ç‚¹å‡»â€œå¼€å§‹ç»ƒä¹ â€</div>

        <div class="bin-grid">
          <div class="bin-btn" data-cat="recycle">â™»ï¸ å¯å›æ”¶ç‰©</div>
          <div class="bin-btn" data-cat="kitchen">ğŸ¥• å¨ä½™åƒåœ¾</div>
          <div class="bin-btn" data-cat="hazard">â˜ ï¸ æœ‰å®³åƒåœ¾</div>
          <div class="bin-btn" data-cat="other">ğŸ—‘ï¸ å…¶ä»–åƒåœ¾</div>
        </div>

        <div id="feedback" class="feedback"></div>
      </div>
    </div>
  </div>

  <!-- å…³äºé¡µé¢ -->
  <div id="page-about" class="card hidden">
    <h2>å…³äºæœ¬ç½‘é¡µ</h2>
    <p style="font-size:16px; line-height:1.6;">
      æœ¬ç½‘é¡µæ—¨åœ¨å¸®åŠ©ç”¨æˆ·å¿«é€ŸæŸ¥è¯¢åƒåœ¾åˆ†ç±»ä¿¡æ¯ï¼ŒåŒæ—¶æä¾›ç»ƒä¹ æ¨¡å—æ¥è¾…åŠ©å­¦ä¹ åˆ†ç±»è§„åˆ™ã€‚
      ä½ å¯ä»¥è¾“å…¥åƒåœ¾åç§°æ¥æŸ¥çœ‹å¯¹åº”åˆ†ç±»ï¼Œä¹Ÿå¯ä»¥è¿›å…¥â€œåˆ†ç±»ç»ƒä¹ â€è¿›è¡Œé¢˜ç›®æŒ‘æˆ˜ã€‚
    </p>
    <p style="margin-top:10px; font-size:16px; line-height:1.6;">
      æ‰€æœ‰æ•°æ®å‡å­˜å‚¨åœ¨å‰ç«¯ï¼Œæ— éœ€è”ç½‘å³å¯ä½¿ç”¨ï¼Œéå¸¸é€‚åˆä½œä¸ºè¯¾ç¨‹ä½œä¸šæˆ–è½»é‡çº§ç¯å¢ƒä¸­çš„å·¥å…·ç³»ç»Ÿã€‚
    </p>
  </div>

  <!-- æ•°æ®åº“ï¼šåƒåœ¾åˆ†ç±»æ•°æ® -->
  <script>
    const trashDB = {
      "çº¸ç®±": "recycle",
      "çº¸": "recycle",
      "æŠ¥çº¸": "recycle",
      "å¿«é€’ç›’": "recycle",
      "å¡‘æ–™ç“¶": "recycle",
      "é¥®æ–™ç“¶": "recycle",
      "ç»ç’ƒç“¶": "recycle",
      "æ˜“æ‹‰ç½": "recycle",
      "é“ç½": "recycle",
      "æ—§è¡£æœ": "recycle",
      "é‡‘å±å·¥å…·": "recycle",

      "æœçš®": "kitchen",
      "é¦™è•‰çš®": "kitchen",
      "è‹¹æœæ ¸": "kitchen",
      "å‰©é¥­": "kitchen",
      "å‰©èœ": "kitchen",
      "éª¨å¤´": "kitchen",
      "èŒ¶å¶æ¸£": "kitchen",
      "å’–å•¡æ¸£": "kitchen",
      "è›‹å£³": "kitchen",
      "èœå¶": "kitchen",

      "ç”µæ± ": "hazard",
      "çº½æ‰£ç”µæ± ": "hazard",
      "è§å…‰ç¯": "hazard",
      "è¿‡æœŸè¯å“": "hazard",
      "æ²¹æ¼†æ¡¶": "hazard",
      "æ€è™«å‰‚": "hazard",
      "æŒ‡ç”²æ²¹": "hazard",
      "èƒ¶æ°´": "hazard",
      "æ¸©åº¦è®¡": "hazard",

      "å£ç½©": "other",
      "æ¹¿å·¾": "other",
      "å«ç”Ÿçº¸": "other",
      "ç‰™åˆ·": "other",
      "ç ´ç¢—": "other",
      "é™¶ç“·": "other",
      "ç¬”èŠ¯": "other",
      "æ©¡çš®ç­‹": "other",
      "å¿«é¤ç›’": "other",
      "å¤–å–ç›’": "other"
    };
    /* æœç´¢æ¬¡æ•°è®°å½• */
    let searchCount = 0;
  </script>

  <!-- é¡µé¢é€»è¾‘è„šæœ¬ -->
  <script>
    const pages = {
      search: document.getElementById("page-search"),
      game: document.getElementById("page-game"),
      about: document.getElementById("page-about"),
    };

    const tabs = {
      search: document.getElementById("tab-search"),
      game: document.getElementById("tab-game"),
      about: document.getElementById("tab-about"),
    };

    function switchPage(page) {
      for (let key in pages) pages[key].classList.add("hidden");
      for (let key in tabs) tabs[key].classList.remove("tab-active");

      pages[page].classList.remove("hidden");
      tabs[page].classList.add("tab-active");
    }

    tabs.search.onclick = () => switchPage("search");
    tabs.game.onclick = () => switchPage("game");
    tabs.about.onclick = () => switchPage("about");

    /* -------------------- æœç´¢åŠŸèƒ½ -------------------- */
    const input = document.getElementById("searchInput");
    const searchBtn = document.getElementById("searchBtn");
    const resultBox = document.getElementById("resultArea");
    const searchCountBox = document.getElementById("searchCount");

    function searchTrash() {
      const name = input.value.trim();
      if (!name) {
        resultBox.innerHTML = "è¯·è¾“å…¥åƒåœ¾åç§°ã€‚";
        return;
      }

      searchCount++;
      searchCountBox.textContent = searchCount;

      const cat = trashDB[name];
      if (!cat) {
        resultBox.innerHTML = `æ— æ³•æ‰¾åˆ° <b>${name}</b> çš„åˆ†ç±»ï¼Œè¯·æ£€æŸ¥è¾“å…¥ã€‚`;
        return;
      }

      const map = {
        recycle: "â™»ï¸ å¯å›æ”¶ç‰©",
        kitchen: "ğŸ¥• å¨ä½™åƒåœ¾",
        hazard: "â˜ ï¸ æœ‰å®³åƒåœ¾",
        other: "ğŸ—‘ï¸ å…¶ä»–åƒåœ¾",
      };

      resultBox.innerHTML = `
        <div>ã€${name}ã€‘çš„åˆ†ç±»æ˜¯ï¼š</div>
        <div style="font-size:22px; margin-top:6px;">
          ${map[cat]}
        </div>
      `;
    }

    searchBtn.onclick = searchTrash;
    input.onkeydown = (e) => e.key === "Enter" && searchTrash();

    /* -------------------- æ¸¸æˆé€»è¾‘ -------------------- */
    const trashList = Object.keys(trashDB);
    let currentTrash = "";
    let score = 0;
    let round = 0;
    let life = 5;

    const nameBox = document.getElementById("trashName");
    const feedback = document.getElementById("feedback");

    const btnStart = document.getElementById("btnStart");
    const btnSkip = document.getElementById("btnSkip");
    const btnShow = document.getElementById("btnShow");

    function nextTrash() {
      round++;
      document.getElementById("round").textContent = round;

      if (round > 20 || life <= 0) {
        endGame();
        return;
      }

      const idx = Math.floor(Math.random() * trashList.length);
      currentTrash = trashList[idx];
      nameBox.textContent = currentTrash;
      feedback.textContent = "";
    }

    function checkAnswer(cat) {
      if (!currentTrash) return;

      const correct = trashDB[currentTrash];
      if (cat === correct) {
        score++;
        feedback.style.color = "#1d9d39";
        feedback.textContent = "å›ç­”æ­£ç¡®ï¼ +1 åˆ†";
      } else {
        score--;
        life--;
        feedback.style.color = "#d64545";
        feedback.textContent = `é”™è¯¯ï¼æ­£ç¡®åˆ†ç±»æ˜¯ï¼š${correct}`;
      }

      document.getElementById("score").textContent = score;
      document.getElementById("life").textContent = life;

      setTimeout(nextTrash, 800);
    }

    function endGame() {
      feedback.style.color = "#333";
      feedback.innerHTML = `
        ğŸ‰ ç»ƒä¹ ç»“æŸï¼<br>
        æœ€ç»ˆå¾—åˆ†ï¼š<b>${score}</b><br>
        ç‚¹å‡»â€œå¼€å§‹ç»ƒä¹ â€å¯é‡æ–°æŒ‘æˆ˜ã€‚
      `;
      currentTrash = "";
    }

    /* å¼€å§‹ã€è·³è¿‡ã€æ˜¾ç¤ºç­”æ¡ˆ */
    btnStart.onclick = () => {
      score = 0;
      round = 0;
      life = 5;
      document.getElementById("score").textContent = score;
      document.getElementById("round").textContent = round;
      document.getElementById("life").textContent = life;

      nextTrash();
    };

    btnSkip.onclick = () => nextTrash();

    btnShow.onclick = () => {
      if (!currentTrash) return;
      const cat = trashDB[currentTrash];
      feedback.style.color = "#444";
      feedback.textContent = `æ­£ç¡®åˆ†ç±»æ˜¯ï¼š${cat}`;
    };

    /* åˆ†ç±»æŒ‰é’®ç‚¹å‡»äº‹ä»¶ */
    document.querySelectorAll(".bin-btn").forEach((btn) => {
      btn.onclick = () => checkAnswer(btn.dataset.cat);
    });

    /* -------------------- å¤šè¯­è¨€åˆ‡æ¢ï¼ˆä¸­/éŸ©ï¼‰-------------------- */
    const langZH = document.getElementById("lang-zh");
    const langKR = document.getElementById("lang-kr");

    langZH.onclick = () => setLang("zh");
    langKR.onclick = () => setLang("kr");

    function setLang(type) {
      if (type === "zh") {
        langZH.classList.add("lang-active");
        langKR.classList.remove("lang-active");

        document.getElementById("tab-search").textContent = "æŸ¥è¯¢åˆ†ç±»";
        document.getElementById("tab-game").textContent = "åˆ†ç±»ç»ƒä¹ ";
        document.getElementById("tab-about").textContent = "å…³äºç½‘é¡µ";

        input.placeholder = "è¯·è¾“å…¥åƒåœ¾åç§°ï¼Œä¾‹å¦‚ï¼šé¦™è•‰çš®ã€çº¸ç›’ã€ç”µæ± â€¦";
      } else {
        langKR.classList.add("lang-active");
        langZH.classList.remove("lang-active");

        document.getElementById("tab-search").textContent = "ë¶„ë¥˜ ì¡°íšŒ";
        document.getElementById("tab-game").textContent = "ë¶„ë¥˜ ì—°ìŠµ";
        document.getElementById("tab-about").textContent = "ì›¹í˜ì´ì§€ ì†Œê°œ";

        input.placeholder = "ì“°ë ˆê¸° ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”. ì˜ˆ: ë°”ë‚˜ë‚˜ê»ì§ˆ, ì¢…ì´ìƒì, ë°°í„°ë¦¬â€¦";
      }
    }
  </script>

</body>
</html>
