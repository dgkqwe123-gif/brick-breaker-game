<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<title>ç”Ÿæ´»åƒåœ¾åˆ†ç±»åŠ©æ‰‹</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
*{box-sizing:border-box;}
body{
  margin:0;
  background:#f5f7fc;
  font-family:"Segoe UI","PingFang SC","Microsoft YaHei",sans-serif;
  color:#333;
}

/* ========== é¡¶éƒ¨ Header é£æ ¼ ========== */
.top-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:18px 28px;
  background:#ffffff;
  box-shadow:0 2px 20px rgba(0,0,0,0.05);
  position:sticky; top:0; z-index:100;
}
.logo-wrap{display:flex;align-items:center;gap:10px;}
.logo-icon{font-size:30px;}
.logo-title{font-size:20px;font-weight:700;}
.logo-subtitle{font-size:13px;opacity:0.75;}

.lang-toggle{display:flex;align-items:center;gap:6px;font-size:14px;}
.lang-btn{
  border:none;background:transparent;
  padding:5px 10px;border-radius:999px;
  cursor:pointer;transition:.18s;
}
.lang-btn.active{background:#e3efff;color:#2b5dba;}
.lang-btn:hover{background:#edf3ff;}

/* ========== é¡µé¢å¸ƒå±€ ========== */
.page-wrap{
  max-width:960px;margin:24px auto 32px;padding:0 16px;
}

/* é¡¶éƒ¨æ ‡ç­¾å¯¼èˆª */
.tab-nav{
  display:flex;background:#fff;border-radius:999px;
  box-shadow:0 4px 18px rgba(0,0,0,0.05);
  padding:4px;margin-bottom:20px;
}
.tab-btn{
  flex:1;border:none;background:transparent;
  border-radius:999px;padding:10px 12px;
  font-size:14px;cursor:pointer;color:#627196;
  transition:.2s;
}
.tab-btn.active{
  background:#e3efff;color:#1f4c9a;font-weight:600;
}

/* é€šç”¨å¡ç‰‡ */
.card{
  background:#fff;border-radius:18px;
  box-shadow:0 10px 30px rgba(15,23,42,0.06);
  padding:22px 24px;margin-bottom:22px;
}
.card-title{
  font-size:18px;display:flex;align-items:center;
  gap:8px;font-weight:700;
}
.card-subtitle{font-size:14px;opacity:0.75;}

/* ========== æœç´¢åŒº ========== */
.search-row{
  display:flex;gap:14px;margin-top:16px;flex-wrap:wrap;
}
.search-input-box{position:relative;flex:1;max-width:540px;}
.search-input{
  width:100%;padding:14px 18px 14px 46px;
  border-radius:999px;border:none;background:#ffffff;
  box-shadow:0 6px 20px rgba(15,23,42,0.08);
  font-size:15px;transition:.2s;
}
.search-input:focus{
  outline:none;box-shadow:0 10px 28px rgba(15,23,42,0.12);
  transform:translateY(-1px);
}
.search-input-icon{
  position:absolute;left:16px;top:11px;font-size:18px;opacity:.6;
}

.search-btn{
  border:none;border-radius:999px;padding:12px 24px;
  font-size:14px;
  background:linear-gradient(135deg,#9ec9ff,#6fa8ff);
  color:#fff;cursor:pointer;
  box-shadow:0 8px 20px rgba(111,168,255,0.35);
  transition:.18s;white-space:nowrap;
}
.search-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 26px rgba(111,168,255,0.45);
}

/* è‡ªåŠ¨è¡¥å…¨ */
.suggestion-list{
  position:absolute;top:54px;width:100%;
  background:#fff;border-radius:14px;
  box-shadow:0 12px 30px rgba(15,23,42,0.14);
  border:1px solid #e5edff;list-style:none;
  padding:8px 0;margin:0;z-index:20;
}
.suggestion-list li{
  padding:8px 14px;font-size:14px;cursor:pointer;
}
.suggestion-list li:hover{background:#f1f5ff;}

.result-area{
  margin-top:20px;padding:14px 16px;border-radius:16px;
  background:#f7f9ff;border:1px solid #e2e9ff;min-height:40px;
}
.result-title{font-size:16px;font-weight:600;margin-bottom:4px;}
.result-meta{font-size:14px;opacity:.85;}

.stat-pill{
  display:inline-block;padding:6px 12px;border-radius:999px;
  background:#eaf2ff;color:#2b4f9b;font-size:13px;
}

/* ========== åˆ†ç±»ç»ƒä¹ å¸ƒå±€ ========== */
.game-layout{
  display:flex;flex-wrap:wrap;gap:18px;
}
.game-status-card{
  width:250px;border-radius:16px;background:#f3f6ff;
  padding:14px;box-shadow:0 8px 24px rgba(15,23,42,0.06);
}
.game-intro-list{margin:8px 0 10px 18px;font-size:14px;}

.status-tag{
  font-size:13px;border-radius:999px;padding:5px 10px;
  background:#e2ebff;color:#27488f;
}
.badge-pulse{
  animation:badgePulse .3s ease-out;
}
@keyframes badgePulse{
  0%{transform:scale(1);}
  30%{transform:scale(1.06);}
 100%{transform:scale(1);}
}

.game-btn-row{display:flex;flex-direction:column;gap:6px;margin-top:8px;}
.btn-outline{
  border-radius:10px;border:1px solid #9ec1ff;background:#fff;
  padding:7px 8px;font-size:14px;cursor:pointer;
}
.btn-outline-danger{border-color:#ff8b8b;}

.game-area{flex:1;min-width:260px;}
.game-trash-item{
  margin-top:10px;display:inline-block;padding:12px 16px;
  border-radius:999px;background:#eef3ff;font-size:16px;
  box-shadow:0 6px 14px rgba(15,23,42,0.08);
}
.bins-grid{
  margin-top:14px;
  display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:10px;
}
.bin{
  border-radius:14px;padding:10px 12px;
  border:1px solid #dde5ff;background:#fff;
  font-size:14px;cursor:pointer;text-align:left;
  transition:.18s;
}
.bin:hover{background:#edf3ff;border-color:#c0d2ff;}

.game-feedback{margin-top:16px;min-height:22px;font-size:14px;}
.feedback-correct{
  color:#1f8a4d;animation:feedbackPop .35s ease-out;
}
.feedback-wrong{
  color:#d04545;animation:feedbackShake .3s ease-out;
}
@keyframes feedbackPop{
  0%{transform:scale(.95);opacity:0;}
 100%{transform:scale(1);opacity:1;}
}
@keyframes feedbackShake{
  0%{transform:translateX(0);}
 25%{transform:translateX(-3px);}
 50%{transform:translateX(3px);}
 75%{transform:translateX(-2px);}
 100%{transform:translateX(0);}
}
.game-end{
  animation:endPop .5s ease-out;
}
@keyframes endPop{
  0%{transform:scale(.92);opacity:0;}
 100%{transform:scale(1);opacity:1;}
}

/* å…³äºç½‘é¡µ */
.guide-list{padding-left:18px;margin-top:6px;}

/* è‡ªé€‚åº” */
@media(max-width:800px){
  .search-row{flex-direction:column;align-items:stretch;}
  .search-btn{align-self:flex-start;}

  .game-layout{flex-direction:column;}
  .game-status-card{width:100%;}
  .tab-nav{flex-direction:column;border-radius:16px;}
}
.hidden{display:none!important;}
</style>
</head>

<body>

<!-- ========== Header ========== -->
<header class="top-header">
  <div class="logo-wrap">
    <div class="logo-icon">ğŸ“</div>
    <div>
      <div class="logo-title">ç”Ÿæ´»åƒåœ¾åˆ†ç±»åŠ©æ‰‹</div>
      <div class="logo-subtitle">å¿«é€ŸæŸ¥è¯¢åƒåœ¾ç±»åˆ«ï¼Œæé«˜åˆ†ç±»å‡†ç¡®æ€§</div>
    </div>
  </div>

  <div class="lang-toggle">
    <button class="lang-btn active" id="langZhBtn">ä¸­æ–‡</button>
    <span>/</span>
    <button class="lang-btn" id="langKoBtn">í•œêµ­ì–´</button>
  </div>
</header>

<!-- ========== é¡µé¢ä¸»ä½“ ========== -->
<main class="page-wrap">

  <!-- é¡¶éƒ¨æ ‡ç­¾å¯¼èˆª -->
  <nav class="tab-nav">
    <button class="tab-btn active" data-target="search-section" id="navSearchBtn">æŸ¥è¯¢åˆ†ç±»</button>
    <button class="tab-btn" data-target="game-section" id="navGameBtn">åˆ†ç±»ç»ƒä¹ </button>
    <button class="tab-btn" data-target="about-section" id="navAboutBtn">å…³äºç½‘é¡µ</button>
  </nav>

  <!-- ========== æœç´¢æ¨¡å— ========== -->
  <section id="search-section" class="card">
    <header class="card-header">
      <h2 class="card-title">
        ğŸ” <span id="searchTitleText">åƒåœ¾åˆ†ç±»æŸ¥è¯¢</span>
      </h2>
      <p class="card-subtitle" id="searchSubtitleText">è¾“å…¥åƒåœ¾åç§°ï¼Œç³»ç»Ÿå°†è‡ª
åŠ¨åŒ¹é…å¯¹åº”åˆ†ç±»ã€‚</p>
    </header>

    <div class="search-row">
      <div class="search-input-box">
        <span class="search-input-icon">ğŸ”</span>
        <input id="searchInput" class="search-input" autocomplete="off"
               placeholder="è¯·è¾“å…¥åƒåœ¾åç§°ï¼Œä¾‹å¦‚ï¼šé¦™è•‰çš®ã€çº¸ç›’ã€ç”µæ± ..." />
        <ul id="suggestionList" class="suggestion-list hidden"></ul>
      </div>

      <button id="searchBtn" class="search-btn">æœç´¢</button>
    </div>

    <section id="resultArea" class="result-area">
      <p id="resultEmptyText">è¯·åœ¨ä¸Šæ–¹è¾“å…¥åƒåœ¾åç§°ä»¥æŸ¥çœ‹åˆ†ç±»ç»“æœã€‚</p>
    </section>

    <span id="statSearchCount" class="stat-pill">ä»Šæ—¥æŸ¥è¯¢ï¼š0 æ¬¡</span>
  </section>

  <!-- ========== åˆ†ç±»ç»ƒä¹ æ¨¡å— ========== -->
  <section id="game-section" class="card hidden">

    <header class="card-header">
      <h2 class="card-title">ğŸ® <span id="gameTitleText">åˆ†ç±»ç»ƒä¹ </span></h2>
      <p class="card-subtitle" id="gameSubtitleText">é€šè¿‡ç»ƒä¹ æå‡å¯¹åƒåœ¾åˆ†ç±»è§„åˆ™çš„ç†è§£ã€‚</p>
    </header>

    <div class="game-layout">

      <!-- å·¦ä¾§è¯´æ˜ -->
      <aside class="game-status-card">
        <strong id="gameRulesTitle">æ“ä½œè¯´æ˜</strong>
        <ul class="game-intro-list">
          <li id="rule1">ç³»ç»Ÿéšæœºå‡ºç°ä¸€ä¸ªåƒåœ¾åç§°</li>
          <li id="rule2">é€‰æ‹©ä½ è®¤ä¸ºæ­£ç¡®çš„åˆ†ç±»</li>
          <li id="rule3">ç­”å¯¹åŠ åˆ†ï¼Œç­”é”™æ‰£åˆ†</li>
        </ul>

        <div class="game-status-row">
          <div class="status-tag" id="badgeScore">
            <span id="labelScore">åˆ†æ•°ï¼š</span><strong id="gameScore">0</strong>
          </div>
          <div class="status-tag" id="badgeRound">
            <span id="labelRound">é¢˜ç›®ï¼š</span><strong id="gameRound">0</strong> / <span id="gameMaxRound">20</span>
          </div>
          <div class="status-tag" id="badgeLives">
            <span id="labelLives">å‰©ä½™ï¼š</span><strong id="gameLives">5</strong>
          </div>
        </div>

        <div class="game-btn-row">
          <button class="btn-outline" id="btnStartGame">å¼€å§‹ç»ƒä¹ </button>
          <button class="btn-outline" id="btnSkip">è·³è¿‡</button>
          <button class="btn-outline btn-outline-danger" id="btnReveal">æ˜¾ç¤ºç­”æ¡ˆ</button>
        </div>
      </aside>

      <!-- å³ä¾§æ¸¸æˆç•Œé¢ -->
      <section class="game-area">
        <p class="game-subtitle" id="currentTrashLabel">å½“å‰åƒåœ¾ï¼š</p>
        <div id="gameTrashItem" class="game-trash-item">ç‚¹å‡»â€œå¼€å§‹ç»ƒä¹ â€ä»¥å¼€å§‹</div>

        <div class="bins-grid">
          <button class="bin" data-category="recycle" id="binRecycle">â™»ï¸ å¯å›æ”¶ç‰©</button>
          <button class="bin" data-category="kitchen" id="binKitchen">ğŸ¥• å¨ä½™åƒåœ¾</button>
          <button class="bin" data-category="hazard" id="binHazard">â˜ ï¸ æœ‰å®³åƒåœ¾</button>
          <button class="bin" data-category="other" id="binOther">ğŸ—‘ï¸ å…¶ä»–åƒåœ¾</button>
        </div>

        <div id="gameFeedback" class="game-feedback">å‡†å¤‡å°±ç»ª</div>
      </section>

    </div>
  </section>

  <!-- ========== å…³äºç½‘é¡µ ========== -->
  <section id="about-section" class="card hidden">
    <header class="card-header">
      <h2 class="card-title">â„¹ï¸ <span id="aboutTitleText">å…³äºç½‘é¡µ</span></h2>
      <p class="card-subtitle" id="aboutSubtitleText">ç®€è¦è¯´æ˜æœ¬ç½‘é¡µçš„åŠŸèƒ½ä¸ä½¿ç”¨æ–¹å¼ã€‚</p>
    </header>

    <div class="about-text">
      <p id="aboutP1">æœ¬ç½‘é¡µç”¨äºå¸®åŠ©ç”¨æˆ·å¿«é€ŸæŸ¥è¯¢åƒåœ¾åˆ†ç±»ä¿¡æ¯ï¼Œå¹¶é€šè¿‡ç»ƒä¹ æå‡åˆ†ç±»èƒ½åŠ›ã€‚</p>
      <p id="aboutP2">é¡µé¢æä¾›ä¸­ / éŸ©åŒè¯­ç•Œé¢ï¼Œé€‚åˆå­¦ä¹ ã€è¯¾å ‚å±•ç¤ºæˆ–æ—¥å¸¸å®£ä¼ ã€‚</p>

      <h3 id="guideTitle">ä½¿ç”¨æŒ‡å—</h3>
      <ul class="guide-list">
        <li id="guide1">é€šè¿‡é¡¶éƒ¨æ ‡ç­¾åˆ‡æ¢ä¸åŒåŠŸèƒ½æ¨¡å—</li>
        <li id="guide2">è¾“å…¥åƒåœ¾åç§°å³å¯æŸ¥çœ‹åˆ†ç±»ç»“æœ</li>
        <li id="guide3">ç»ƒä¹ æ¨¡å—æä¾› 20 é“é¢˜çš„äº’åŠ¨ç»ƒä¹ </li>
        <li id="guide4">å³ä¸Šè§’å¯åˆ‡æ¢ä¸­éŸ©è¯­è¨€ç•Œé¢</li>
      </ul>
    </div>
  </section>

</main>


<!-- ========== JavaScript ========== -->
<script>
/* è¯­è¨€åŒ… */
const i18n = {
  zh: {
    title:"ç”Ÿæ´»åƒåœ¾åˆ†ç±»åŠ©æ‰‹",
    subtitle:"å¿«é€ŸæŸ¥è¯¢åƒåœ¾ç±»åˆ«ï¼Œæé«˜åˆ†ç±»å‡†ç¡®æ€§",

    navSearch:"æŸ¥è¯¢åˆ†ç±»",
    navGame:"åˆ†ç±»ç»ƒä¹ ",
    navAbout:"å…³äºç½‘é¡µ",

    searchTitle:"åƒåœ¾åˆ†ç±»æŸ¥è¯¢",
    searchSubtitle:"è¾“å…¥åƒåœ¾åç§°ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨åŒ¹é…å¯¹åº”åˆ†ç±»ã€‚",
    searchPlaceholder:"è¯·è¾“å…¥åƒåœ¾åç§°ï¼Œä¾‹å¦‚ï¼šé¦™è•‰çš®ã€çº¸ç›’ã€ç”µæ± ...",
    searchBtn:"æœç´¢",
    resultEmpty:"è¯·åœ¨ä¸Šæ–¹è¾“å…¥åƒåœ¾åç§°ä»¥æŸ¥çœ‹åˆ†ç±»ç»“æœã€‚",
    todayQuery:"ä»Šæ—¥æŸ¥è¯¢ï¼š",

    gameTitle:"åˆ†ç±»ç»ƒä¹ ",
    gameSubtitle:"é€šè¿‡ç»ƒä¹ æå‡å¯¹åƒåœ¾åˆ†ç±»è§„åˆ™çš„ç†è§£ã€‚",
    rulesTitle:"æ“ä½œè¯´æ˜",
    rule1:"ç³»ç»Ÿéšæœºå‡ºç°ä¸€ä¸ªåƒåœ¾åç§°",
    rule2:"é€‰æ‹©ä½ è®¤ä¸ºæ­£ç¡®çš„åˆ†ç±»",
    rule3:"ç­”å¯¹åŠ åˆ†ï¼Œç­”é”™æ‰£åˆ†",

    labelScore:"åˆ†æ•°ï¼š",
    labelRound:"é¢˜ç›®ï¼š",
    labelLives:"å‰©ä½™ï¼š",
    currentTrash:"å½“å‰åƒåœ¾ï¼š",
    clickStart:"ç‚¹å‡»â€œå¼€å§‹ç»ƒä¹ â€ä»¥å¼€å§‹",
    gameReady:"å‡†å¤‡å°±ç»ª",
    chooseCategory:"è¯·é€‰æ‹©åˆ†ç±»",

    recycle:"å¯å›æ”¶ç‰©",
    kitchen:"å¨ä½™åƒåœ¾",
    hazard:"æœ‰å®³åƒåœ¾",
    other:"å…¶ä»–åƒåœ¾",

    btnStart:"å¼€å§‹ç»ƒä¹ ",
    btnSkip:"è·³è¿‡",
    btnReveal:"æ˜¾ç¤ºç­”æ¡ˆ",

    correct:"å›ç­”æ­£ç¡®ã€‚",
    wrong:"å›ç­”é”™è¯¯ã€‚",
    finishedTitle:"ç»ƒä¹ å®Œæˆ",
    finishedSummary:(score,max)=>`ä½ å®Œæˆäº† ${max} é“é¢˜ï¼Œå…±å¾—åˆ† ${score} åˆ†ã€‚`,
    finishedTip:"å¯ä»¥é‡æ–°å¼€å§‹ç»ƒä¹ ä»¥è¿›ä¸€æ­¥æå‡å¯¹åˆ†ç±»çš„ç†è§£ã€‚",

    aboutTitle:"å…³äºç½‘é¡µ",
    aboutSubtitle:"ç®€è¦è¯´æ˜æœ¬ç½‘é¡µçš„åŠŸèƒ½ä¸ä½¿ç”¨æ–¹å¼ã€‚",
    aboutP1:"æœ¬ç½‘é¡µç”¨äºå¸®åŠ©ç”¨æˆ·å¿«é€ŸæŸ¥è¯¢å¸¸è§ç”Ÿæ´»åƒåœ¾çš„åˆ†ç±»ç»“æœï¼Œå¹¶é€šè¿‡ç»ƒä¹ æ¨¡å—åŠ æ·±å¯¹åˆ†ç±»è§„åˆ™çš„ç†è§£ã€‚",
    aboutP2:"é¡µé¢æä¾›ä¸­ / éŸ©åŒè¯­ç•Œé¢ï¼Œé€‚ç”¨äºå­¦ä¹ ã€è¯¾å ‚å±•ç¤ºæˆ–åŸºç¡€å®£ä¼ ä½¿ç”¨ã€‚",
    guideTitle:"ä½¿ç”¨æŒ‡å—",
    g1:"é€šè¿‡é¡¶éƒ¨æ ‡ç­¾åˆ‡æ¢â€œæŸ¥è¯¢åˆ†ç±» / åˆ†ç±»ç»ƒä¹  / å…³äºç½‘é¡µâ€",
    g2:"åœ¨æŸ¥è¯¢é¡µé¢è¾“å…¥åƒåœ¾åç§°å³å¯æŸ¥çœ‹å¯¹åº”åˆ†ç±»",
    g3:"åœ¨ç»ƒä¹ é¡µé¢è¿›è¡Œ 20 é“åˆ†ç±»ç»ƒä¹ ï¼Œç³»ç»Ÿä¼šç»™å‡ºåé¦ˆ",
    g4:"å³ä¸Šè§’å¯ä»¥åœ¨ä¸­æ–‡ä¸éŸ©è¯­ä¹‹é—´åˆ‡æ¢"
  },

  ko:{
    title:"ìƒí™œ ì“°ë ˆê¸° ë¶„ë¥˜ ë„ìš°ë¯¸",
    subtitle:"ì“°ë ˆê¸° ì¢…ë¥˜ë¥¼ ë¹ ë¥´ê²Œ ì¡°íšŒí•˜ì—¬ ì •í™•ì„±ì„ ë†’ì…ë‹ˆë‹¤",

    navSearch:"ë¶„ë¥˜ ì¡°íšŒ",
    navGame:"ë¶„ë¥˜ ì—°ìŠµ",
    navAbout:"ì›¹í˜ì´ì§€ ì†Œê°œ",

    searchTitle:"ì“°ë ˆê¸° ë¶„ë¥˜ ì¡°íšŒ",
    searchSubtitle:"ì“°ë ˆê¸° ì´ë¦„ì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ë¶„ë¥˜ ê²°ê³¼ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤.",
    searchPlaceholder:"ì˜ˆ: ë°”ë‚˜ë‚˜ ê»ì§ˆ, ìƒì, ê±´ì „ì§€ ë“±",
    searchBtn:"ê²€ìƒ‰",
    resultEmpty:"ìœ„ì— ì“°ë ˆê¸° ì´ë¦„ì„ ì…ë ¥í•´ ë¶„ë¥˜ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.",
    todayQuery:"ì˜¤ëŠ˜ ì¡°íšŒï¼š",

    gameTitle:"ë¶„ë¥˜ ì—°ìŠµ",
    gameSubtitle:"ì—°ìŠµì„ í†µí•´ ë¶„ë¥˜ ê·œì¹™ì„ ì‰½ê²Œ ìµí ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    rulesTitle:"ì‚¬ìš© ì„¤ëª…",
    rule1:"ì‹œìŠ¤í…œì´ ë¬´ì‘ìœ„ë¡œ ì“°ë ˆê¸° ì´ë¦„ì„ ì œì‹œí•©ë‹ˆë‹¤",
    rule2:"ì˜¬ë°”ë¥¸ ë¶„ë¥˜ë¥¼ ì„ íƒí•˜ì„¸ìš”",
    rule3:"ì •ë‹µì´ë©´ ì ìˆ˜ ìƒìŠ¹, ì˜¤ë‹µì´ë©´ ê°ì ë©ë‹ˆë‹¤",

    labelScore:"ì ìˆ˜ï¼š",
    labelRound:"ë¬¸ì œï¼š",
    labelLives:"ë‚¨ì€ íšŸìˆ˜ï¼š",
    currentTrash:"í˜„ì¬ ì“°ë ˆê¸°ï¼š",
    clickStart:"â€˜ì—°ìŠµ ì‹œì‘â€™ì„ ëˆŒëŸ¬ ì‹œì‘í•˜ì„¸ìš”",
    gameReady:"ì¤€ë¹„ ì™„ë£Œ",
    chooseCategory:"ë¶„ë¥˜ë¥¼ ì„ íƒí•˜ì„¸ìš”",

    recycle:"ì¬í™œìš©",
    kitchen:"ìŒì‹ë¬¼ ì“°ë ˆê¸°",
    hazard:"ìœ í•´ ì“°ë ˆê¸°",
    other:"ê¸°íƒ€ ì“°ë ˆê¸°",

    btnStart:"ì—°ìŠµ ì‹œì‘",
    btnSkip:"ê±´ë„ˆë›°ê¸°",
    btnReveal:"ì •ë‹µ ë³´ê¸°",

    correct:"ì •ë‹µì…ë‹ˆë‹¤.",
    wrong:"ì˜¤ë‹µì…ë‹ˆë‹¤.",
    finishedTitle:"ì—°ìŠµ ì™„ë£Œ",
    finishedSummary:(score,max)=>`ì´ ${max}ë¬¸ì œ ì¤‘ ${score}ì ì„ íšë“í–ˆìŠµë‹ˆë‹¤.`,
    finishedTip:"ë‹¤ì‹œ ì—°ìŠµí•˜ì—¬ ë¶„ë¥˜ ê·œì¹™ì„ ë” ì˜ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",

    aboutTitle:"ì›¹í˜ì´ì§€ ì†Œê°œ",
    aboutSubtitle:"ì´ ì›¹í˜ì´ì§€ì˜ ì£¼ìš” ê¸°ëŠ¥ê³¼ ì‚¬ìš© ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.",
    aboutP1:"ì´ ì›¹í˜ì´ì§€ëŠ” ì¼ìƒ ìƒí™œì—ì„œ ìì£¼ ì ‘í•˜ëŠ” ì“°ë ˆê¸°ì˜ ë¶„ë¥˜ ê²°ê³¼ë¥¼ ë¹ ë¥´ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.",
    aboutP2:"ì¤‘êµ­ì–´ / í•œêµ­ì–´ ë‘ ê°€ì§€ ì–¸ì–´ë¥¼ ì œê³µí•˜ì—¬ í•™ìŠµê³¼ ìˆ˜ì—… ì‹œ í™œìš©í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.",
    guideTitle:"ì‚¬ìš© ì•ˆë‚´",
    g1:"ìƒë‹¨ íƒ­ì—ì„œ â€˜ë¶„ë¥˜ ì¡°íšŒ / ë¶„ë¥˜ ì—°ìŠµ / ì›¹í˜ì´ì§€ ì†Œê°œâ€™ë¥¼ ì„ íƒí•˜ì„¸ìš”",
    g2:"ì¡°íšŒ í˜ì´ì§€ì—ì„œ ì“°ë ˆê¸° ì´ë¦„ì„ ì…ë ¥í•˜ë©´ ë¶„ë¥˜ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤",
    g3:"ì—°ìŠµ í˜ì´ì§€ì—ì„œ ì´ 20ë¬¸ì œë¥¼ í’€ë©° í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤",
    g4:"ì˜¤ë¥¸ìª½ ìƒë‹¨ ë²„íŠ¼ìœ¼ë¡œ ì–¸ì–´ë¥¼ ì „í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤"
  }
};

let currentLang="zh";

/* ========== åƒåœ¾æ•°æ®åº“ ========== */
const trashDB={
  "é¦™è•‰çš®":"kitchen","å‰©é¥­":"kitchen","èœå¶":"kitchen","é¸¡éª¨å¤´":"kitchen",
  "è‹¹æœæ ¸":"kitchen","å¡‘æ–™ç“¶":"recycle","çº¸ç›’":"recycle",
  "çº¸ç®±":"recycle","ç»ç’ƒç“¶":"recycle","æ˜“æ‹‰ç½":"recycle",
  "ç”µæ± ":"hazard","è¯ç‰‡":"hazard","ç¯æ³¡":"hazard","è§å…‰ç¯ç®¡":"hazard",
  "çº¸å·¾":"other","ç°å°˜":"other","ç ´ç“·ç‰‡":"other","ä¸€æ¬¡æ€§ç­·å­":"other"
};
const trashList=Object.keys(trashDB);

/* æ¸¸æˆå˜é‡ */
let searchCount=0;
let gameScore=0;
let gameRound=0;
let gameLives=5;
let currentTrash=null;
let gameStarted=false;
let gameEnded=false;
const MAX_ROUNDS=20;

/* ========== å¤šè¯­è¨€åº”ç”¨å‡½æ•° ========== */
function applyLanguage(lang){
  currentLang=lang;
  const t=i18n[lang];

  document.querySelector(".logo-title").textContent=t.title;
  document.querySelector(".logo-subtitle").textContent=t.subtitle;

  navSearchBtn.textContent=t.navSearch;
  navGameBtn.textContent=t.navGame;
  navAboutBtn.textContent=t.navAbout;

  searchTitleText.textContent=t.searchTitle;
  searchSubtitleText.textContent=t.searchSubtitle;
  searchInput.placeholder=t.searchPlaceholder;
  searchBtn.textContent=t.searchBtn;
  resultEmptyText.textContent=t.resultEmpty;
  statSearchCount.textContent=`${t.todayQuery}${searchCount}${lang==="zh"?" æ¬¡":"íšŒ"}`;

  gameTitleText.textContent=t.gameTitle;
  gameSubtitleText.textContent=t.gameSubtitle;
  gameRulesTitle.textContent=t.rulesTitle;
  rule1.textContent=t.rule1;
  rule2.textContent=t.rule2;
  rule3.textContent=t.rule3;
  labelScore.textContent=t.labelScore;
  labelRound.textContent=t.labelRound;
  labelLives.textContent=t.labelLives;
  currentTrashLabel.textContent=t.currentTrash;

  if(!gameStarted||gameEnded){
    gameTrashItem.textContent=t.clickStart;
    gameFeedback.textContent=t.gameReady;
  }

  btnStartGame.textContent=t.btnStart;
  btnSkip.textContent=t.btnSkip;
  btnReveal.textContent=t.btnReveal;

  binRecycle.textContent="â™»ï¸ "+t.recycle;
  binKitchen.textContent="ğŸ¥• "+t.kitchen;
  binHazard.textContent="â˜ ï¸ "+t.hazard;
  binOther.textContent="ğŸ—‘ï¸ "+t.other;

  aboutTitleText.textContent=t.aboutTitle;
  aboutSubtitleText.textContent=t.aboutSubtitle;
  aboutP1.textContent=t.aboutP1;
  aboutP2.textContent=t.aboutP2;
  guideTitle.textContent=t.guideTitle;
  guide1.textContent=t.g1;
  guide2.textContent=t.g2;
  guide3.textContent=t.g3;
  guide4.textContent=t.g4;

  langZhBtn.classList.toggle("active",lang==="zh");
  langKoBtn.classList.toggle("active",lang==="ko");
}

/* ç»‘å®šè¯­è¨€æŒ‰é’® */
langZhBtn.onclick=()=>applyLanguage("zh");
langKoBtn.onclick=()=>applyLanguage("ko");

/* ========== Tab é¡µåˆ‡æ¢ ========== */
document.querySelectorAll(".tab-btn").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");

    document.querySelectorAll("main section").forEach(sec=>sec.classList.add("hidden"));
    document.getElementById(btn.dataset.target).classList.remove("hidden");
  };
});

/* ========== æœç´¢åŠŸèƒ½ ========== */
searchInput.addEventListener("input",()=>{
  const text=searchInput.value.trim();
  if(!text){ suggestionList.classList.add("hidden"); return; }

  const list=trashList.filter(n=>n.includes(text));
  suggestionList.innerHTML="";
  list.forEach(n=>{
    const li=document.createElement("li");
    li.textContent=n;
    li.onclick=()=>{ searchInput.value=n; suggestionList.classList.add("hidden"); };
    suggestionList.appendChild(li);
  });
  suggestionList.classList.toggle("hidden",list.length===0);
});

searchBtn.onclick=()=>{
  const t=i18n[currentLang];
  const text=searchInput.value.trim();
  if(!text)return;

  searchCount++;
  statSearchCount.textContent=`${t.todayQuery}${searchCount}${currentLang==="zh"?" æ¬¡":"íšŒ"}`;

  if(!trashDB[text]){
    resultArea.innerHTML="<p>æœªæ‰¾åˆ°è¯¥åƒåœ¾ï¼Œè¯·æ£€æŸ¥åç§°ã€‚</p>";
    return;
  }

  resultArea.innerHTML=
    `<div class="result-title">${text}</div>
     <div class="result-meta">${{
        recycle:t.recycle,kitchen:t.kitchen,
        hazard:t.hazard,other:t.other
     }[trashDB[text]]}</div>`;
};

/* ========== åˆ†ç±»ç»ƒä¹ é€»è¾‘ ========== */
function updateBadges(){
  gameScore.textContent=gameScore;
  gameRound.textContent=gameRound;
  gameLives.textContent=gameLives;
}

function startGame(){
  const t=i18n[currentLang];
  gameScore=0; gameRound=0; gameLives=5;
  gameEnded=false; gameStarted=true;
  updateBadges();
  nextRound();
}

function nextRound(){
  const t=i18n[currentLang];
  if(gameLives<=0||gameRound>=MAX_ROUNDS){
    gameEnded=true;
    gameFeedback.className="game-feedback game-end";
    gameFeedback.innerHTML=
      `<strong>${t.finishedTitle}</strong><br>${t.finishedSummary(gameScore,MAX_ROUNDS)}<br>${t.finishedTip}`;
    gameTrashItem.textContent="";
    return;
  }

  gameRound++;
  updateBadges();

  currentTrash=trashList[Math.floor(Math.random()*trashList.length)];
  gameTrashItem.textContent=currentTrash;
  gameFeedback.textContent=t.chooseCategory;
}

function checkAnswer(cat){
  if(!gameStarted||gameEnded||!currentTrash)return;
  const t=i18n[currentLang];

  if(trashDB[currentTrash]===cat){
    gameScore++;
    gameFeedback.className="game-feedback feedback-correct";
    gameFeedback.textContent=t.correct;
  }else{
    gameLives--;
    gameFeedback.className="game-feedback feedback-wrong";
    gameFeedback.textContent=t.wrong;
  }
  updateBadges();
  setTimeout(nextRound,600);
}

btnStartGame.onclick=startGame;
btnSkip.onclick=nextRound;
btnReveal.onclick=()=>{
  if(!currentTrash)return;
  const t=i18n[currentLang];
  const cat=trashDB[currentTrash];
  gameFeedback.textContent=currentTrash+" â†’ "+{
    recycle:t.recycle,kitchen:t.kitchen,hazard:t.hazard,other:t.other
  }[cat];
};

document.querySelectorAll(".bin").forEach(b=>{
  b.onclick=()=>checkAnswer(b.dataset.category);
});

/* åˆå§‹åŒ–è¯­è¨€ */
applyLanguage("zh");
</script>

</body>
</html>
